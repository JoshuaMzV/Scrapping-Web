<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Cat√°logos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="logo">üì¶ Cat√°logo Generator</div>
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link active">Inicio</a></li>
                <li><a href="#marcas" class="nav-link">Marcas</a></li>
                <li><a href="#settings" class="nav-link">‚öôÔ∏è Configuraci√≥n</a></li>
            </ul>
            <button id="btnCerrar" class="btn-cerrar" title="Cerrar aplicaci√≥n">‚úï</button>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTAINER -->
    <div class="container">
        <!-- SECTION: HOME -->
        <section id="home" class="section active">
            <div class="card">
                <h1>üöÄ Generador de Cat√°logos por Marca</h1>
                <p>Selecciona una marca e ingresa links de CUALQUIER sitio donde se venda (Nike.com, Amazon, eBay, etc.)</p>
                
                <!-- SELECTOR DE MARCA -->
                <div class="form-group">
                    <label for="marca">Selecciona Marca:</label>
                    <select id="marca" class="form-control">
                        <option value="">-- Seleccionar --</option>
                        <option value="nike">üëü Nike (links de Nike.com, Amazon, eBay, etc.)</option>
                        <option value="sephora">üíÑ Sephora (links de Sephora.com, Amazon, eBay, etc.)</option>
                    </select>
                </div>

                <!-- TEXTAREA PARA LINKS -->
                <div class="form-group">
                    <label for="links">Pega los links aqu√≠ (uno por l√≠nea):</label>
                    <p class="hint">üí° Puedes mezclar links de diferentes sitios. El sistema detectar√° autom√°ticamente d√≥nde est√° cada producto.</p>
                    <textarea id="links" class="form-control textarea" placeholder="https://nike.com/...&#10;https://amazon.com/product/...&#10;https://ebay.com/itm/..."></textarea>
                </div>

                <!-- BOTONES -->
                <div class="button-group">
                    <button id="btnGenerar" class="btn btn-primary">üîÑ Generar Cat√°logo</button>
                    <button id="btnLimpiar" class="btn btn-secondary">üóëÔ∏è Limpiar</button>
                </div>

                <!-- BARRA DE PROGRESO -->
                <div id="progressContainer" class="progress-container" style="display: none;">
                    <div class="progress-bar" id="progressBar">
                        <span id="progressText">0%</span>
                    </div>
                    <p id="statusText" class="status-text">Iniciando...</p>
                </div>

                <!-- RESULTADO -->
                <div id="resultContainer" class="result-container" style="display: none;">
                    <div id="successMessage" class="alert alert-success" style="display: none;">
                        ‚úÖ <strong>¬°√âxito!</strong> El cat√°logo se est√° descargando...
                    </div>
                    <div id="errorMessage" class="alert alert-error" style="display: none;">
                        ‚ùå <strong>Error:</strong> <span id="errorText"></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: MARCAS -->
        <section id="marcas" class="section">
            <div class="card">
                <h2>üìã Marcas Disponibles</h2>
                <div class="marcas-grid">
                    <div class="marca-card">
                        <h3>üëü Nike</h3>
                        <p>Productos Nike de cualquier sitio:</p>
                        <ul style="text-align: left; font-size: 0.9em;">
                            <li>Nike.com</li>
                            <li>Amazon</li>
                            <li>eBay</li>
                            <li>Y m√°s...</li>
                        </ul>
                        <span class="badge">Activo</span>
                    </div>
                    <div class="marca-card">
                        <h3>üíÑ Sephora</h3>
                        <p>Productos Sephora de cualquier sitio:</p>
                        <ul style="text-align: left; font-size: 0.9em;">
                            <li>Sephora.com</li>
                            <li>Amazon</li>
                            <li>eBay</li>
                            <li>Y m√°s...</li>
                        </ul>
                        <span class="badge">Activo</span>
                    </div>
                </div>
                <div class="info-box">
                    <h3>‚ÑπÔ∏è ¬øC√≥mo funciona?</h3>
                    <p>1. Selecciona la marca (Nike, Sephora, etc.)</p>
                    <p>2. Pega links de esa marca de <strong>cualquier sitio</strong> donde se venda</p>
                    <p>3. El sistema detecta autom√°ticamente en qu√© sitio est√° cada producto</p>
                    <p>4. Genera un √∫nico Excel con todos los datos y precios calculados</p>
                </div>
            </div>
        </section>

        <!-- SECTION: CONFIGURACI√ìN -->
        <section id="settings" class="section">
            <div class="card">
                <h2>‚öôÔ∏è Configuraci√≥n & Actualizaci√≥n</h2>
                
                <div class="settings-group">
                    <h3>üîÑ Actualizar desde GitHub</h3>
                    <p>Descarga las √∫ltimas actualizaciones directamente desde el repositorio oficial:</p>
                    
                    <div class="info-box" style="background: #e3f2fd; border-left: 4px solid #2196F3; padding: 15px; margin: 15px 0;">
                        <p><strong>üìç Repositorio:</strong> <a href="https://github.com/JoshuaMzV/Scrapping-Web" target="_blank" style="color: #2196F3;">https://github.com/JoshuaMzV/Scrapping-Web</a></p>
                        <p style="margin: 10px 0; font-size: 0.9em; color: #666;">La URL est√° configurada autom√°ticamente. Solo haz clic en "Actualizar Ahora" para descargar los cambios m√°s recientes.</p>
                    </div>

                    <button id="btnActualizar" class="btn btn-primary">üîÑ Actualizar Ahora</button>
                    
                    <div id="updateContainer" class="result-container" style="display: none; margin-top: 20px;">
                        <div id="updateSuccess" class="alert alert-success" style="display: none;">
                            ‚úÖ <strong>Actualizaci√≥n completada</strong>. Por favor reinicia la aplicaci√≥n para aplicar los cambios.
                        </div>
                        <div id="updateError" class="alert alert-error" style="display: none;">
                            ‚ùå <strong>Error en actualizaci√≥n:</strong> <span id="updateErrorText"></span>
                        </div>
                    </div>
                </div>

                <hr>

                <div class="settings-group">
                    <h3>‚ÑπÔ∏è Informaci√≥n del Sistema</h3>
                    <p><strong>Versi√≥n:</strong> 1.0.3</p>
                    <p><strong>√öltima actualizaci√≥n:</strong> <span id="lastUpdate">19/11/2025</span></p>
                    <p><strong>Estado:</strong> ‚úÖ Conectado a GitHub</p>
                </div>
            </div>
        </section>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <p>¬© 2025 Cat√°logo Generator | Desarrollado por Joshua Mendez</p>
    </footer>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
